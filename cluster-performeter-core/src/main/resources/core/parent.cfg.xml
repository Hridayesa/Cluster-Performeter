<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:context="http://www.springframework.org/schema/context"
       xmlns:hz="http://www.hazelcast.com/schema/spring"
       xsi:schemaLocation="
              http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
              http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd
              http://www.hazelcast.com/schema/spring http://www.hazelcast.com/schema/spring/hazelcast-spring.xsd">

    <context:annotation-config/>
    <context:property-placeholder location="file:../config/app.properties" order="0" ignore-resource-not-found="true" ignore-unresolvable="true"/>
    <context:property-placeholder location="classpath:app.properties" order="1"/>

    <bean id="hazelcast" class="com.hazelcast.core.Hazelcast" factory-method="newHazelcastInstance"/>
    <!--<hz:hazelcast id="hazelcast">-->
        <!--<hz:config>-->
            <!--&lt;!&ndash;<hz:group name="dev" password="password"/>&ndash;&gt;-->
            <!--<hz:network port="5701" port-auto-increment="true">-->
                <!--<hz:join>-->
                    <!--<hz:multicast enabled="true"-->
                                  <!--multicast-group="224.2.2.3"-->
                                  <!--multicast-port="54327"/>-->
                    <!--&lt;!&ndash;<hz:tcp-ip enabled="true">&ndash;&gt;-->
                        <!--&lt;!&ndash;<hz:members>localhost</hz:members>&ndash;&gt;-->
                    <!--&lt;!&ndash;</hz:tcp-ip>&ndash;&gt;-->
                <!--</hz:join>-->
            <!--</hz:network>-->
            <!--<hz:map name="testMap"-->
                    <!--backup-count="2"/>-->
        <!--</hz:config>-->
    <!--</hz:hazelcast>-->

    <bean id="topic" factory-bean="hazelcast" factory-method="getTopic">
        <constructor-arg value="topic"/>
    </bean>
    <bean id="finishCollectionLatch" factory-bean="hazelcast" factory-method="getCountDownLatch">
        <constructor-arg value="finishCollectionLatch"/>
    </bean>

    <bean id="context" factory-bean="hazelcast" factory-method="getMap">
        <constructor-arg value="context"/>
    </bean>
    <bean id="statisticsMap" factory-bean="hazelcast" factory-method="getMap">
        <constructor-arg value="statisticsMap"/>
    </bean>


</beans>